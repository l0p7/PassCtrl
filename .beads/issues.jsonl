{"id":"PassCtrl-1","title":"Adopt httpexpect and testify for integration testing","description":"Add external testing libraries to go.mod and document adoption prerequisites.","notes":"Pulled httpexpect/v2 v2.17.0 and testify v1.11.1 into go.mod; ready to close once integration harness refactors use them.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-18T02:33:39.347256005Z","updated_at":"2025-10-18T02:37:30.623313591Z","closed_at":"2025-10-18T02:37:30.623313591Z"}
{"id":"PassCtrl-10","title":"Migrate runtime tests to testify+mockery","description":"Refactor internal/runtime packages (admission, pipeline, cache, etc.) to use testify assertions and mockery where interfaces exist.","notes":"Converted agents_test.go to require/testify across backend pagination + templating; expanded coverage and reran go test ./internal/runtime/... + golangci-lint.","status":"open","priority":1,"issue_type":"task","created_at":"2025-10-18T05:07:42.03225354Z","updated_at":"2025-10-19T00:31:14.771003535Z","dependencies":[{"issue_id":"PassCtrl-10","depends_on_id":"PassCtrl-9","type":"blocks","created_at":"2025-10-18T05:08:04.4801142Z","created_by":"l0p7"}]}
{"id":"PassCtrl-11","title":"Update HTTP-facing tests to httpexpect","description":"Ensure all integration/handler tests lean on httpexpect with table-driven layouts; cover remaining endpoints.","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-18T05:07:46.202315323Z","updated_at":"2025-10-18T05:07:46.202315323Z","dependencies":[{"issue_id":"PassCtrl-11","depends_on_id":"PassCtrl-10","type":"blocks","created_at":"2025-10-18T05:08:08.553828564Z","created_by":"l0p7"}]}
{"id":"PassCtrl-12","title":"Expand mockery coverage","description":"Add new interfaces (e.g., metrics recorders, template renderers) to .mockery.yml, generate mocks, and update tests accordingly.","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-18T05:07:50.177559616Z","updated_at":"2025-10-18T05:07:50.177559616Z","dependencies":[{"issue_id":"PassCtrl-12","depends_on_id":"PassCtrl-10","type":"blocks","created_at":"2025-10-18T05:08:13.855812706Z","created_by":"l0p7"}]}
{"id":"PassCtrl-13","title":"Finalize documentation \u0026 lint updates","description":"Close PassCtrl-7 with final docs referencing new mock directories and testing conventions once migration completes.","status":"open","priority":3,"issue_type":"task","created_at":"2025-10-18T05:07:54.06591475Z","updated_at":"2025-10-18T05:07:54.06591475Z","dependencies":[{"issue_id":"PassCtrl-13","depends_on_id":"PassCtrl-11","type":"blocks","created_at":"2025-10-18T05:08:20.271302801Z","created_by":"l0p7"}]}
{"id":"PassCtrl-2","title":"Refactor integration harness to use httpexpect and table-driven cases","description":"Rewrite cmd/integration_test.go to drive HTTP expectations via httpexpect/v2 and assertions via testify.","notes":"Reworked TestIntegrationServerStartup into table-driven httpexpect flow with testify validation.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-18T02:33:42.105157455Z","updated_at":"2025-10-18T02:37:34.424698354Z","closed_at":"2025-10-18T02:37:34.424698354Z","dependencies":[{"issue_id":"PassCtrl-2","depends_on_id":"PassCtrl-1","type":"blocks","created_at":"2025-10-18T02:33:48.706779335Z","created_by":"l0p7"}]}
{"id":"PassCtrl-3","title":"Document new testing stack and validate","description":"Update DEPENDENCIES.md and run go test to confirm integration harness works with new libraries.","notes":"Documented httpexpect/testify in DEPENDENCIES.md and ran go test ./....","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-18T02:33:46.096642253Z","updated_at":"2025-10-18T02:37:37.231351482Z","closed_at":"2025-10-18T02:37:37.231351482Z","dependencies":[{"issue_id":"PassCtrl-3","depends_on_id":"PassCtrl-2","type":"blocks","created_at":"2025-10-18T02:33:52.601567917Z","created_by":"l0p7"}]}
{"id":"PassCtrl-4","title":"Enable testify linting","description":"Update golangci configuration to include testify lints after adopting testify","notes":"Added testify linter to .golangci.yml enable list.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-18T02:42:09.768963663Z","updated_at":"2025-10-18T02:43:19.803374219Z","closed_at":"2025-10-18T02:43:19.803374219Z"}
{"id":"PassCtrl-5","title":"Define testify migration plan","description":"Survey existing unit and integration tests, list conversions to testify require/assert and table-driven layouts while retaining httpexpect for HTTP interactions.","notes":"Drafted testing migration roadmap in notes/testing-migration.md covering audit and conversion phases.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-18T02:57:24.905441896Z","updated_at":"2025-10-18T05:22:21.702973465Z","closed_at":"2025-10-18T05:22:21.702973465Z"}
{"id":"PassCtrl-6","title":"Refactor unit tests to testify table style","description":"Convert existing *_test.go files to table-driven tests using testify assertions; leave httpexpect integration coverage untouched.","notes":"Replaced hand-rolled stubs with mockery-generated DecisionCache mocks and converted agent tests to testify table form.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-10-18T02:57:30.834109901Z","updated_at":"2025-10-18T04:41:32.839887848Z","dependencies":[{"issue_id":"PassCtrl-6","depends_on_id":"PassCtrl-5","type":"blocks","created_at":"2025-10-18T02:57:44.518656442Z","created_by":"l0p7"}]}
{"id":"PassCtrl-7","title":"Document testing conventions","description":"Update AGENTS.md and design/testing docs to capture testify + table-driven guidance and note continued httpexpect usage.","notes":"Documentation reflects mockery workflow (config file, mocks directories) following new mock-based tests.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-10-18T02:57:40.613474731Z","updated_at":"2025-10-18T04:42:31.159380005Z","dependencies":[{"issue_id":"PassCtrl-7","depends_on_id":"PassCtrl-6","type":"blocks","created_at":"2025-10-18T02:57:47.598121822Z","created_by":"l0p7"}]}
{"id":"PassCtrl-8","title":"Establish mockery configuration","description":"Add repo-level .mockery.yaml aligned with testify/mock naming conventions and document regeneration command.","notes":"Draft .mockery.yaml committed and referenced in docs; ready for review before generating mocks.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-18T04:26:28.798194568Z","updated_at":"2025-10-18T04:27:14.253062635Z","closed_at":"2025-10-18T04:27:14.253071706Z"}
{"id":"PassCtrl-9","title":"Audit remaining tests for testify/mocks","description":"Inventory packages still using hand-rolled stubs or stdlib assertions; propose mockery targets and table-driven rewrites.","notes":"Documented audit results in notes/testing-migration.md (package checklist + mockery candidates).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-18T05:07:34.814951029Z","updated_at":"2025-10-18T05:29:25.174053512Z","closed_at":"2025-10-18T05:29:25.174053512Z","dependencies":[{"issue_id":"PassCtrl-9","depends_on_id":"PassCtrl-5","type":"blocks","created_at":"2025-10-18T05:07:59.309175322Z","created_by":"l0p7"}]}
